<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Booking Successful</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    font-family:"Segoe UI",Arial,sans-serif;
    background:#f4f6f8;
    color:#333;
}
header{
    background:linear-gradient(135deg,#27ae60,#2ecc71);
    color:#fff;
    text-align:center;
    padding:50px 16px;
}
.container{
    max-width:520px;
    margin:30px auto;
    padding:20px;
}
.card{
    background:#fff;
    border-radius:18px;
    padding:26px;
    box-shadow:0 12px 30px rgba(0,0,0,.15);
    text-align:center;
}
.check{
    font-size:64px;
    color:#27ae60;
}
.detail{
    display:flex;
    justify-content:space-between;
    margin-top:12px;
    font-size:15px;
}
.amount{
    margin-top:18px;
    font-size:22px;
    font-weight:700;
    color:#27ae60;
}
.btn{
    display:block;
    margin-top:18px;
    padding:14px;
    border-radius:12px;
    text-decoration:none;
    font-weight:600;
    color:#fff;
}
.btn-home{background:#2980b9;}
.btn-print{background:#7f8c8d;}
.footer{
    background:#222;
    color:#aaa;
    margin-top:40px;
    padding:14px;
    text-align:center;
    font-size:13px;
}
.whatsapp-float{
    position:fixed;
    bottom:22px;
    right:20px;
    width:56px;
    height:56px;
    background:#25d366;
    color:#fff;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:28px;
    text-decoration:none;
    box-shadow:0 8px 18px rgba(0,0,0,.3);
}
</style>
</head>

<body>

<header>
<h1>âœ… Booking Confirmed</h1>
<p>Thank you for choosing us</p>
</header>

<div class="container">
<div class="card">

<div class="check">âœ”</div>
<h2>Your booking is successful</h2>

<div class="detail">
<strong>Booking ID</strong>
<span id="bookingId">-</span>
</div>

<div class="detail">
<strong>Service</strong>
<span id="service">-</span>
</div>

<div class="detail">
<strong>Details</strong>
<span id="item">-</span>
</div>

<div class="detail">
<strong>Status</strong>
<span id="status">-</span>
</div>

<div class="amount" id="amount">â‚¹0</div>

<a href="index.html" class="btn btn-home">Back to Home</a>
<a href="#" onclick="window.print()" class="btn btn-print">Print / Save</a>

</div>
</div>

<footer class="footer">
Â© 2025 ABC Restaurant & Resort
</footer>

<a href="https://wa.me/919876543210"
   class="whatsapp-float"
   target="_blank">ðŸ’¬</a>

<script>
const params = new URLSearchParams(window.location.search);
const bookingId = params.get("id");

if(!bookingId){
    alert("Invalid access");
    window.location.href="index.html";
}

// FETCH BOOKING DETAILS (READ ONLY)
fetch("http://127.0.0.1:10000/api/bookings/" + bookingId + "/status",
.then(res => {
    if(!res.ok) throw new Error();
    return res.json();
})
.then(data => {
    document.getElementById("bookingId").innerText = data.booking_id;
    document.getElementById("service").innerText = data.service;
    document.getElementById("item").innerText = data.details;
    document.getElementById("status").innerText = data.status;
    document.getElementById("amount").innerText = "â‚¹ " + data.amount;
})
.catch(() => {
    alert("Booking not found");
    window.location.href="index.html";
});
</script>

</body>
</html>
